"use strict";(self["webpackChunkmeow_life_app"]=self["webpackChunkmeow_life_app"]||[]).push([[267],{5623:function(e,t,l){e.exports=l.p+"img/cute_cat.d23f7283.png"},7636:function(e,t,l){e.exports=l.p+"img/normal_cat.c122651f.png"},9267:function(e,t,l){l.r(t),l.d(t,{default:function(){return ie}});var s=l(6768),o=l(4232),a=l(5130);const i={class:"page-container"},n={class:"page-header"},c={class:"add-buttons"},d={class:"pets-filter"},r={class:"pets-list"},p=["onClick"],u=["src","alt"],g={class:"pet-name"},k={class:"type-filter"},m=["onClick"],v={class:"type-icon"},L={class:"type-label"},y={class:"record-list"},h={class:"record-date"},f={class:"record-content"},b={class:"record-header"},C={class:"pet-info"},T=["src","alt"],I={class:"pet-name"},D={class:"type-icon"},_={class:"type-label"},E={class:"record-body"},w={class:"record-title"},R={class:"record-description"},X={key:0,class:"grooming-duration"},P={key:1,class:"grooming-cost"},x={key:0,class:"record-notes"},A={class:"record-actions"},F=["onClick"],J=["onClick"],K={class:"dialog-content"},S={class:"dialog-header"},U={class:"dialog-body"},V={class:"form-group"},N={class:"pets-select"},Q=["onClick"],O=["src","alt"],z={class:"pet-name"},G={class:"form-group"},W=["max"],$={class:"form-group"},j={class:"type-select"},q=["onClick"],B={class:"type-icon"},H={class:"type-label"},M={class:"form-group"},Y={class:"form-group"},Z={class:"form-group"},ee={class:"form-group"},te={class:"dialog-footer"};function le(e,t,l,le,se,oe){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",n,[t[11]||(t[11]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",null,"洗护记录"),(0,s.Lk)("p",null,"记录喵星人的美容护理")],-1)),(0,s.Lk)("div",c,[(0,s.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=(...e)=>oe.showAddDialog&&oe.showAddDialog(...e))},t[10]||(t[10]=[(0,s.Lk)("i",{class:"el-icon-plus"},null,-1),(0,s.eW)(" 添加记录 ")]))])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,o.C4)(["pet-item",{active:se.selectedPetId===e.id}]),onClick:t=>oe.selectPet(e.id)},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,u),(0,s.Lk)("span",g,(0,o.v_)(e.name),1)],10,p)))),128))])]),(0,s.Lk)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.groomingTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,o.C4)(["type-tag",{active:se.selectedTypes.includes(e.value)}]),onClick:t=>oe.toggleType(e.value)},[(0,s.Lk)("span",v,(0,o.v_)(e.icon),1),(0,s.Lk)("span",L,(0,o.v_)(e.label),1)],10,m)))),128))]),(0,s.Lk)("div",y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.filteredRecords,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"record-card"},[(0,s.Lk)("div",h,(0,o.v_)(oe.formatDate(e.date)),1),(0,s.Lk)("div",f,[(0,s.Lk)("div",b,[(0,s.Lk)("div",C,[(0,s.Lk)("img",{src:oe.getPetAvatar(e.petId),alt:oe.getPetName(e.petId),class:"pet-avatar"},null,8,T),(0,s.Lk)("span",I,(0,o.v_)(oe.getPetName(e.petId)),1)]),(0,s.Lk)("div",{class:(0,o.C4)(["record-type",e.type])},[(0,s.Lk)("span",D,(0,o.v_)(oe.getTypeIcon(e.type)),1),(0,s.Lk)("span",_,(0,o.v_)(oe.getTypeLabel(e.type)),1)],2)]),(0,s.Lk)("div",E,[(0,s.Lk)("h3",w,(0,o.v_)(e.groomingType),1),(0,s.Lk)("div",R,[e.duration?((0,s.uX)(),(0,s.CE)("div",X,[t[12]||(t[12]=(0,s.Lk)("i",{class:"el-icon-time"},null,-1)),(0,s.Lk)("span",null,"时长："+(0,o.v_)(e.duration),1)])):(0,s.Q3)("",!0),e.cost?((0,s.uX)(),(0,s.CE)("div",P,[t[13]||(t[13]=(0,s.Lk)("i",{class:"el-icon-money"},null,-1)),(0,s.Lk)("span",null,"费用：¥"+(0,o.v_)(e.cost),1)])):(0,s.Q3)("",!0)]),e.notes?((0,s.uX)(),(0,s.CE)("div",x,[t[14]||(t[14]=(0,s.Lk)("i",{class:"el-icon-notebook-2"},null,-1)),(0,s.Lk)("span",null,(0,o.v_)(e.notes),1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",A,[(0,s.Lk)("button",{class:"action-btn edit",onClick:t=>oe.editRecord(e)},t[15]||(t[15]=[(0,s.Lk)("span",{class:"icon"},"✏️",-1),(0,s.Lk)("span",null,"编辑",-1)]),8,F),(0,s.Lk)("button",{class:"action-btn delete",onClick:t=>oe.deleteRecord(e)},t[16]||(t[16]=[(0,s.Lk)("span",{class:"icon"},"🗑️",-1),(0,s.Lk)("span",null,"删除",-1)]),8,J)])])])))),128))]),se.showDialog?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"dialog-overlay",onClick:t[9]||(t[9]=(0,a.D$)(((...e)=>oe.closeDialog&&oe.closeDialog(...e)),["self"]))},[(0,s.Lk)("div",K,[(0,s.Lk)("div",S,[(0,s.Lk)("h2",null,(0,o.v_)(oe.dialogTitle),1),(0,s.Lk)("button",{class:"close-btn",onClick:t[1]||(t[1]=(...e)=>oe.closeDialog&&oe.closeDialog(...e))},"×")]),(0,s.Lk)("div",U,[(0,s.Lk)("div",V,[t[17]||(t[17]=(0,s.Lk)("label",null,"选择宠物",-1)),(0,s.Lk)("div",N,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,o.C4)(["pet-option",{active:se.form.petId===e.id}]),onClick:t=>se.form.petId=e.id},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,O),(0,s.Lk)("span",z,(0,o.v_)(e.name),1)],10,Q)))),128))])]),(0,s.Lk)("div",G,[t[18]||(t[18]=(0,s.Lk)("label",null,"日期",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date",class:"form-input","onUpdate:modelValue":t[2]||(t[2]=e=>se.form.date=e),max:(new Date).toISOString().split("T")[0]},null,8,W),[[a.Jo,se.form.date]])]),(0,s.Lk)("div",$,[t[19]||(t[19]=(0,s.Lk)("label",null,"洗护类型",-1)),(0,s.Lk)("div",j,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.groomingTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,o.C4)(["type-option",{active:se.form.type===e.value}]),onClick:t=>se.form.type=e.value},[(0,s.Lk)("span",B,(0,o.v_)(e.icon),1),(0,s.Lk)("span",H,(0,o.v_)(e.label),1)],10,q)))),128))])]),(0,s.Lk)("div",M,[t[20]||(t[20]=(0,s.Lk)("label",null,"具体项目",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[3]||(t[3]=e=>se.form.groomingType=e),placeholder:"例如：洗澡、剪指甲、梳毛等"},null,512),[[a.Jo,se.form.groomingType]])]),(0,s.Lk)("div",Y,[t[21]||(t[21]=(0,s.Lk)("label",null,"时长",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[4]||(t[4]=e=>se.form.duration=e),placeholder:"例如：1小时"},null,512),[[a.Jo,se.form.duration]])]),(0,s.Lk)("div",Z,[t[22]||(t[22]=(0,s.Lk)("label",null,"费用",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",class:"form-input","onUpdate:modelValue":t[5]||(t[5]=e=>se.form.cost=e),placeholder:"请输入费用金额"},null,512),[[a.Jo,se.form.cost]])]),(0,s.Lk)("div",ee,[t[23]||(t[23]=(0,s.Lk)("label",null,"备注",-1)),(0,s.bo)((0,s.Lk)("textarea",{class:"form-textarea","onUpdate:modelValue":t[6]||(t[6]=e=>se.form.notes=e),placeholder:"添加一些备注信息..."},null,512),[[a.Jo,se.form.notes]])])]),(0,s.Lk)("div",te,[(0,s.Lk)("button",{class:"cancel-btn",onClick:t[7]||(t[7]=(...e)=>oe.closeDialog&&oe.closeDialog(...e))},"取消"),(0,s.Lk)("button",{class:"confirm-btn",onClick:t[8]||(t[8]=(...e)=>oe.saveRecord&&oe.saveRecord(...e))},"保存")])])])):(0,s.Q3)("",!0)])}l(4114),l(8111),l(2489),l(116);var se={name:"Grooming",data(){return{pets:[{id:1,name:"小灰灰",avatar:l(7636)},{id:2,name:"花花",avatar:l(5623)}],groomingTypes:[{value:"bath",label:"洗澡",icon:"🚿"},{value:"grooming",label:"美容",icon:"✂️"},{value:"nail",label:"剪指甲",icon:"💅"},{value:"brushing",label:"梳毛",icon:"🪮"},{value:"other",label:"其他",icon:"✨"}],selectedPetId:null,selectedTypes:[],groomingRecords:[{id:1,date:"2024-03-20",petId:1,type:"bath",groomingType:"洗澡",duration:"1小时",cost:150,notes:"使用了温和的猫咪专用沐浴露"},{id:2,date:"2024-03-15",petId:2,type:"grooming",groomingType:"美容",duration:"2小时",cost:200,notes:"修剪了毛发，做了造型"}],showDialog:!1,isEditing:!1,form:{petId:null,date:"",type:"",groomingType:"",duration:"",cost:"",notes:""}}},computed:{dialogTitle(){return this.isEditing?"编辑记录":"添加记录"},filteredRecords(){let e=[...this.groomingRecords];return this.selectedPetId&&(e=e.filter((e=>e.petId===this.selectedPetId))),this.selectedTypes.length>0&&(e=e.filter((e=>this.selectedTypes.includes(e.type)))),e.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}},methods:{selectPet(e){this.selectedPetId=this.selectedPetId===e?null:e},toggleType(e){const t=this.selectedTypes.indexOf(e);-1===t?this.selectedTypes.push(e):this.selectedTypes.splice(t,1)},getPetAvatar(e){const t=this.pets.find((t=>t.id===e));return t?t.avatar:""},getPetName(e){const t=this.pets.find((t=>t.id===e));return t?t.name:""},getTypeIcon(e){const t=this.groomingTypes.find((t=>t.value===e));return t?t.icon:"✨"},getTypeLabel(e){const t=this.groomingTypes.find((t=>t.value===e));return t?t.label:"其他"},formatDate(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},showAddDialog(){this.isEditing=!1,this.form={petId:null,date:(new Date).toISOString().split("T")[0],type:"",groomingType:"",duration:"",cost:"",notes:""},this.showDialog=!0},editRecord(e){this.isEditing=!0,this.form={...e},this.showDialog=!0},closeDialog(){this.showDialog=!1,this.form={petId:null,date:"",type:"",groomingType:"",duration:"",cost:"",notes:""}},saveRecord(){if(this.isEditing){const e=this.groomingRecords.findIndex((e=>e.id===this.form.id));-1!==e&&(this.groomingRecords[e]={...this.form})}else this.groomingRecords.push({...this.form,id:this.groomingRecords.length+1});this.closeDialog()},deleteRecord(e){confirm("确定要删除这条记录吗？")&&(this.groomingRecords=this.groomingRecords.filter((t=>t.id!==e)))}}},oe=l(1241);const ae=(0,oe.A)(se,[["render",le],["__scopeId","data-v-08d354cc"]]);var ie=ae}}]);
//# sourceMappingURL=267.340d9e18.js.map