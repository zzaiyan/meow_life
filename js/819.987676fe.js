"use strict";(self["webpackChunkmeow_life_app"]=self["webpackChunkmeow_life_app"]||[]).push([[819],{5623:function(e,t,l){e.exports=l.p+"img/cute_cat.d23f7283.png"},7636:function(e,t,l){e.exports=l.p+"img/normal_cat.c122651f.png"},9819:function(e,t,l){l.r(t),l.d(t,{default:function(){return ae}});var s=l(6768),a=l(4232),i=l(5130);const d={class:"page-container"},c={class:"health"},o={class:"page-header"},r={class:"add-buttons"},n={class:"pets-filter"},p={class:"pets-list"},u=["onClick"],k=["src","alt"],v={class:"pet-name"},h={class:"type-filter"},m=["onClick"],L={class:"type-icon"},y={class:"type-label"},b={class:"record-list"},g={class:"record-date"},f={class:"record-content"},C={class:"record-header"},F={class:"pet-info"},I=["src","alt"],T={class:"pet-name"},_={class:"type-icon"},x={class:"type-label"},D={class:"record-body"},R={class:"record-title"},E={class:"record-description"},X={key:0,class:"next-date"},V={class:"record-actions"},w=["onClick"],A=["onClick"],P={key:0,class:"dialog-overlay"},N={class:"dialog-content"},K={class:"dialog-header"},J={class:"dialog-body"},U={class:"form-group"},O={class:"pets-select"},Q=["onClick"],S=["src","alt"],H={class:"pet-name"},W={class:"form-group"},j={class:"type-select"},q=["onClick"],z={class:"type-icon"},B={class:"type-label"},G={class:"form-group"},M={class:"form-group"},Y={class:"form-group"},Z={class:"form-group"},$={class:"dialog-footer"};function ee(e,t,l,ee,te,le){return(0,s.uX)(),(0,s.CE)("div",d,[(0,s.Lk)("div",c,[(0,s.Lk)("div",o,[t[9]||(t[9]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",null,"健康记录"),(0,s.Lk)("p",null,"守护喵星人的健康")],-1)),(0,s.Lk)("div",r,[(0,s.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=(...e)=>le.showAddDialog&&le.showAddDialog(...e))},t[8]||(t[8]=[(0,s.Lk)("i",{class:"el-icon-plus"},null,-1),(0,s.eW)(" 添加记录 ")]))])]),(0,s.Lk)("div",n,[(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(te.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,a.C4)(["pet-item",{active:te.selectedPetId===e.id}]),onClick:t=>le.selectPet(e.id)},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,k),(0,s.Lk)("span",v,(0,a.v_)(e.name),1)],10,u)))),128))])]),(0,s.Lk)("div",h,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(te.recordTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,a.C4)(["type-tag",{active:te.selectedTypes.includes(e.value)}]),onClick:t=>le.toggleType(e.value)},[(0,s.Lk)("span",L,(0,a.v_)(e.icon),1),(0,s.Lk)("span",y,(0,a.v_)(e.label),1)],10,m)))),128))]),(0,s.Lk)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(le.filteredRecords,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"record-card"},[(0,s.Lk)("div",g,(0,a.v_)(e.date),1),(0,s.Lk)("div",f,[(0,s.Lk)("div",C,[(0,s.Lk)("div",F,[(0,s.Lk)("img",{src:e.petAvatar,alt:e.petName,class:"pet-avatar"},null,8,I),(0,s.Lk)("span",T,(0,a.v_)(e.petName),1)]),(0,s.Lk)("div",{class:(0,a.C4)(["record-type",e.type])},[(0,s.Lk)("span",_,(0,a.v_)(le.getTypeIcon(e.type)),1),(0,s.Lk)("span",x,(0,a.v_)(le.getTypeLabel(e.type)),1)],2)]),(0,s.Lk)("div",D,[(0,s.Lk)("h3",R,(0,a.v_)(e.title),1),(0,s.Lk)("p",E,(0,a.v_)(e.description),1),e.nextDate?((0,s.uX)(),(0,s.CE)("div",X,[t[10]||(t[10]=(0,s.Lk)("span",{class:"icon"},"📅",-1)),(0,s.Lk)("span",null,"下次日期："+(0,a.v_)(e.nextDate),1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",V,[(0,s.Lk)("button",{class:"action-btn edit",onClick:t=>le.editRecord(e)},t[11]||(t[11]=[(0,s.Lk)("span",{class:"icon"},"✏️",-1),(0,s.Lk)("span",null,"编辑",-1)]),8,w),(0,s.Lk)("button",{class:"action-btn delete",onClick:t=>le.deleteRecord(e)},t[12]||(t[12]=[(0,s.Lk)("span",{class:"icon"},"🗑️",-1),(0,s.Lk)("span",null,"删除",-1)]),8,A)])])])))),128))]),te.dialogVisible?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("div",N,[(0,s.Lk)("div",K,[(0,s.Lk)("h2",null,(0,a.v_)("add"===te.dialogType?"添加记录":"编辑记录"),1),(0,s.Lk)("button",{class:"close-btn",onClick:t[1]||(t[1]=e=>te.dialogVisible=!1)},"×")]),(0,s.Lk)("div",J,[(0,s.Lk)("div",U,[t[13]||(t[13]=(0,s.Lk)("label",null,"选择宠物",-1)),(0,s.Lk)("div",O,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(te.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,a.C4)(["pet-option",{active:te.recordForm.petId===e.id}]),onClick:t=>te.recordForm.petId=e.id},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,S),(0,s.Lk)("span",H,(0,a.v_)(e.name),1)],10,Q)))),128))])]),(0,s.Lk)("div",W,[t[14]||(t[14]=(0,s.Lk)("label",null,"记录类型",-1)),(0,s.Lk)("div",j,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(te.recordTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,a.C4)(["type-option",{active:te.recordForm.type===e.value}]),onClick:t=>te.recordForm.type=e.value},[(0,s.Lk)("span",z,(0,a.v_)(e.icon),1),(0,s.Lk)("span",B,(0,a.v_)(e.label),1)],10,q)))),128))])]),(0,s.Lk)("div",G,[t[15]||(t[15]=(0,s.Lk)("label",null,"日期",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>te.recordForm.date=e),class:"form-input"},null,512),[[i.Jo,te.recordForm.date]])]),(0,s.Lk)("div",M,[t[16]||(t[16]=(0,s.Lk)("label",null,"标题",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>te.recordForm.title=e),class:"form-input",placeholder:"请输入标题"},null,512),[[i.Jo,te.recordForm.title]])]),(0,s.Lk)("div",Y,[t[17]||(t[17]=(0,s.Lk)("label",null,"描述",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>te.recordForm.description=e),class:"form-textarea",placeholder:"请输入详细描述"},null,512),[[i.Jo,te.recordForm.description]])]),(0,s.Lk)("div",Z,[t[18]||(t[18]=(0,s.Lk)("label",null,"下次日期",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=e=>te.recordForm.nextDate=e),class:"form-input"},null,512),[[i.Jo,te.recordForm.nextDate]])])]),(0,s.Lk)("div",$,[(0,s.Lk)("button",{class:"cancel-btn",onClick:t[6]||(t[6]=e=>te.dialogVisible=!1)},"取消"),(0,s.Lk)("button",{class:"confirm-btn",onClick:t[7]||(t[7]=(...e)=>le.submitForm&&le.submitForm(...e))},"确定")])])])):(0,s.Q3)("",!0)])])}l(4114),l(8111),l(2489),l(116);var te={name:"Health",data(){return{pets:[{id:1,name:"小灰灰",avatar:l(7636)},{id:2,name:"花花",avatar:l(5623)}],recordTypes:[{value:"vaccination",label:"疫苗接种",icon:"💉"},{value:"checkup",label:"体检",icon:"🔍"},{value:"medical",label:"就医",icon:"🏥"}],filterForm:{petId:1,type:""},healthRecords:[{id:1,date:"2024-03-20",petId:1,petName:"小灰灰",petAvatar:l(7636),type:"vaccination",title:"猫三联疫苗",description:"接种了猫三联疫苗，医生建议观察30分钟，无不良反应",nextDate:"2024-04-20"},{id:2,date:"2024-03-19",petId:2,petName:"花花",petAvatar:l(5623),type:"checkup",title:"年度体检",description:"进行了年度体检，各项指标正常",nextDate:"2025-03-19"}],dialogVisible:!1,dialogType:"add",recordForm:{petId:"",type:"",date:"",title:"",description:"",nextDate:""},selectedPetId:null,selectedTypes:[]}},computed:{filteredRecords(){let e=[...this.healthRecords];return this.selectedPetId&&(e=e.filter((e=>e.petId===this.selectedPetId))),this.selectedTypes.length>0&&(e=e.filter((e=>this.selectedTypes.includes(e.type)))),e.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}},methods:{getTypeIcon(e){const t=this.recordTypes.find((t=>t.value===e));return t?t.icon:"📝"},getTypeLabel(e){const t=this.recordTypes.find((t=>t.value===e));return t?t.label:"其他"},selectPet(e){this.selectedPetId=this.selectedPetId===e?null:e},toggleType(e){const t=this.selectedTypes.indexOf(e);-1===t?this.selectedTypes.push(e):this.selectedTypes.splice(t,1)},showAddDialog(){this.dialogType="add",this.recordForm={petId:this.selectedPetId,type:"",date:(new Date).toISOString().split("T")[0],title:"",description:"",nextDate:""},this.dialogVisible=!0},editRecord(e){this.dialogType="edit",this.recordForm={...e},this.dialogVisible=!0},deleteRecord(e){confirm("确认删除该记录吗？")&&(this.healthRecords=this.healthRecords.filter((t=>t.id!==e.id)))},submitForm(){if("add"===this.dialogType){const e=this.pets.find((e=>e.id===this.recordForm.petId));this.healthRecords.push({id:this.healthRecords.length+1,petName:e.name,petAvatar:e.avatar,...this.recordForm})}else{const e=this.healthRecords.findIndex((e=>e.id===this.recordForm.id)),t=this.pets.find((e=>e.id===this.recordForm.petId));this.healthRecords[e]={...this.recordForm,petName:t.name,petAvatar:t.avatar}}this.dialogVisible=!1}}},le=l(1241);const se=(0,le.A)(te,[["render",ee]]);var ae=se}}]);
//# sourceMappingURL=819.987676fe.js.map