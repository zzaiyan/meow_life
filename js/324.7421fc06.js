"use strict";(self["webpackChunkmeow_life_app"]=self["webpackChunkmeow_life_app"]||[]).push([[324],{5623:function(e,t,l){e.exports=l.p+"img/cute_cat.d23f7283.png"},6324:function(e,t,l){l.r(t),l.d(t,{default:function(){return de}});var s=l(6768),a=l(4232),i=l(5130);const n={class:"page-container"},o={class:"notes"},c={class:"page-header"},d={class:"add-buttons"},p={class:"pets-filter"},r={class:"pets-list"},u=["onClick"],k=["src","alt"],m={class:"pet-name"},v={class:"type-filter"},g=["onClick"],L={class:"type-icon"},h={class:"type-label"},y={class:"record-list"},b={class:"record-date"},C={class:"record-content"},f={class:"record-header"},I={class:"pet-info"},F=["src","alt"],T={class:"pet-name"},w={class:"type-icon"},_={class:"type-label"},E={class:"record-body"},X={class:"record-title"},N={class:"record-description"},U={key:0,class:"image-gallery"},V=["src","alt","onClick"],A={class:"record-actions"},P=["onClick"],x=["onClick"],D={key:0,class:"dialog-overlay"},K={class:"dialog-content"},J={class:"dialog-header"},Q={class:"dialog-body"},O={class:"form-group"},R={class:"pets-select"},S=["onClick"],W=["src","alt"],$={class:"pet-name"},j={class:"form-group"},q={class:"type-select"},z=["onClick"],B={class:"type-icon"},G={class:"type-label"},H={class:"form-group"},M={class:"form-group"},Y={class:"form-group"},Z={class:"form-group"},ee={class:"image-upload"},te=["src","alt"],le=["onClick"],se={class:"dialog-footer"},ae=["src"];function ie(e,t,l,ie,ne,oe){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("div",c,[t[11]||(t[11]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",null,"随手记"),(0,s.Lk)("p",null,"记录喵星人的点点滴滴")],-1)),(0,s.Lk)("div",d,[(0,s.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=(...e)=>oe.showAddDialog&&oe.showAddDialog(...e))},t[10]||(t[10]=[(0,s.Lk)("i",{class:"el-icon-plus"},null,-1),(0,s.eW)(" 添加记录 ")]))])]),(0,s.Lk)("div",p,[(0,s.Lk)("div",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ne.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,a.C4)(["pet-item",{active:ne.selectedPetId===e.id}]),onClick:t=>oe.selectPet(e.id)},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,k),(0,s.Lk)("span",m,(0,a.v_)(e.name),1)],10,u)))),128))])]),(0,s.Lk)("div",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ne.noteTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,a.C4)(["type-tag",{active:ne.selectedTypes.includes(e.value)}]),onClick:t=>oe.toggleType(e.value)},[(0,s.Lk)("span",L,(0,a.v_)(e.icon),1),(0,s.Lk)("span",h,(0,a.v_)(e.label),1)],10,g)))),128))]),(0,s.Lk)("div",y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(oe.filteredNotes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"record-card"},[(0,s.Lk)("div",b,(0,a.v_)(e.date),1),(0,s.Lk)("div",C,[(0,s.Lk)("div",f,[(0,s.Lk)("div",I,[(0,s.Lk)("img",{src:e.petAvatar,alt:e.petName,class:"pet-avatar"},null,8,F),(0,s.Lk)("span",T,(0,a.v_)(e.petName),1)]),(0,s.Lk)("div",{class:(0,a.C4)(["record-type",e.type])},[(0,s.Lk)("span",w,(0,a.v_)(oe.getTypeIcon(e.type)),1),(0,s.Lk)("span",_,(0,a.v_)(oe.getTypeLabel(e.type)),1)],2)]),(0,s.Lk)("div",E,[(0,s.Lk)("h3",X,(0,a.v_)(e.title),1),(0,s.Lk)("p",N,(0,a.v_)(e.content),1),e.images&&e.images.length>0?((0,s.uX)(),(0,s.CE)("div",U,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.images,((t,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l,class:"image-item"},[(0,s.Lk)("img",{src:t,alt:e.title,onClick:e=>oe.previewImage(t)},null,8,V)])))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",A,[(0,s.Lk)("button",{class:"action-btn edit",onClick:t=>oe.editNote(e)},t[12]||(t[12]=[(0,s.Lk)("span",{class:"icon"},"✏️",-1),(0,s.Lk)("span",null,"编辑",-1)]),8,P),(0,s.Lk)("button",{class:"action-btn delete",onClick:t=>oe.deleteNote(e)},t[13]||(t[13]=[(0,s.Lk)("span",{class:"icon"},"🗑️",-1),(0,s.Lk)("span",null,"删除",-1)]),8,x)])])])))),128))]),ne.dialogVisible?((0,s.uX)(),(0,s.CE)("div",D,[(0,s.Lk)("div",K,[(0,s.Lk)("div",J,[(0,s.Lk)("h2",null,(0,a.v_)("add"===ne.dialogType?"添加记录":"编辑记录"),1),(0,s.Lk)("button",{class:"close-btn",onClick:t[1]||(t[1]=e=>ne.dialogVisible=!1)},"×")]),(0,s.Lk)("div",Q,[(0,s.Lk)("div",O,[t[14]||(t[14]=(0,s.Lk)("label",null,"选择宠物",-1)),(0,s.Lk)("div",R,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ne.pets,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,a.C4)(["pet-option",{active:ne.noteForm.petId===e.id}]),onClick:t=>ne.noteForm.petId=e.id},[(0,s.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,W),(0,s.Lk)("span",$,(0,a.v_)(e.name),1)],10,S)))),128))])]),(0,s.Lk)("div",j,[t[15]||(t[15]=(0,s.Lk)("label",null,"记录类型",-1)),(0,s.Lk)("div",q,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ne.noteTypes,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.value,class:(0,a.C4)(["type-option",{active:ne.noteForm.type===e.value}]),onClick:t=>ne.noteForm.type=e.value},[(0,s.Lk)("span",B,(0,a.v_)(e.icon),1),(0,s.Lk)("span",G,(0,a.v_)(e.label),1)],10,z)))),128))])]),(0,s.Lk)("div",H,[t[16]||(t[16]=(0,s.Lk)("label",null,"日期",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>ne.noteForm.date=e),class:"form-input"},null,512),[[i.Jo,ne.noteForm.date]])]),(0,s.Lk)("div",M,[t[17]||(t[17]=(0,s.Lk)("label",null,"标题",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>ne.noteForm.title=e),class:"form-input",placeholder:"请输入标题"},null,512),[[i.Jo,ne.noteForm.title]])]),(0,s.Lk)("div",Y,[t[18]||(t[18]=(0,s.Lk)("label",null,"内容",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>ne.noteForm.content=e),class:"form-textarea",placeholder:"请输入详细内容"},null,512),[[i.Jo,ne.noteForm.content]])]),(0,s.Lk)("div",Z,[t[20]||(t[20]=(0,s.Lk)("label",null,"图片",-1)),(0,s.Lk)("div",ee,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ne.noteForm.images,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"image-preview"},[(0,s.Lk)("img",{src:e,alt:ne.noteForm.title},null,8,te),(0,s.Lk)("button",{class:"remove-image",onClick:e=>oe.removeImage(t)},"×",8,le)])))),128)),(0,s.Lk)("div",{class:"upload-btn",onClick:t[5]||(t[5]=(...e)=>oe.triggerFileInput&&oe.triggerFileInput(...e))},t[19]||(t[19]=[(0,s.Lk)("i",{class:"el-icon-plus"},null,-1),(0,s.Lk)("span",null,"添加图片",-1)])),(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:t[6]||(t[6]=(...e)=>oe.handleImageUpload&&oe.handleImageUpload(...e)),multiple:"",accept:"image/*",style:{display:"none"}},null,544)])])]),(0,s.Lk)("div",se,[(0,s.Lk)("button",{class:"cancel-btn",onClick:t[7]||(t[7]=e=>ne.dialogVisible=!1)},"取消"),(0,s.Lk)("button",{class:"confirm-btn",onClick:t[8]||(t[8]=(...e)=>oe.submitForm&&oe.submitForm(...e))},"确定")])])])):(0,s.Q3)("",!0),ne.previewImageUrl?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"image-preview-overlay",onClick:t[9]||(t[9]=e=>ne.previewImageUrl=null)},[(0,s.Lk)("img",{src:ne.previewImageUrl,alt:"预览图片"},null,8,ae)])):(0,s.Q3)("",!0)])])}l(4114),l(8111),l(2489),l(116);var ne={name:"Notes",data(){return{pets:[{id:1,name:"小灰灰",avatar:l(7636)},{id:2,name:"花花",avatar:l(5623)}],noteTypes:[{value:"daily",label:"日常",icon:"📝"},{value:"behavior",label:"行为",icon:"🎭"},{value:"growth",label:"成长",icon:"🌱"}],notes:[{id:1,date:"2024-03-20",petId:1,petName:"小灰灰",petAvatar:l(7636),type:"daily",title:"今天特别开心",content:"今天小灰灰特别开心，一直在玩逗猫棒，还学会了新技能！",images:[l(7636),l(5623)]}],dialogVisible:!1,dialogType:"add",noteForm:{petId:"",type:"",date:"",title:"",content:"",images:[]},selectedPetId:null,selectedTypes:[],previewImageUrl:null}},computed:{filteredNotes(){let e=[...this.notes];return this.selectedPetId&&(e=e.filter((e=>e.petId===this.selectedPetId))),this.selectedTypes.length>0&&(e=e.filter((e=>this.selectedTypes.includes(e.type)))),e.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}},methods:{getTypeIcon(e){const t=this.noteTypes.find((t=>t.value===e));return t?t.icon:"📝"},getTypeLabel(e){const t=this.noteTypes.find((t=>t.value===e));return t?t.label:"其他"},selectPet(e){this.selectedPetId=this.selectedPetId===e?null:e},toggleType(e){const t=this.selectedTypes.indexOf(e);-1===t?this.selectedTypes.push(e):this.selectedTypes.splice(t,1)},showAddDialog(){this.dialogType="add",this.noteForm={petId:this.selectedPetId,type:"",date:(new Date).toISOString().split("T")[0],title:"",content:"",images:[]},this.dialogVisible=!0},editNote(e){this.dialogType="edit",this.noteForm={...e},this.dialogVisible=!0},deleteNote(e){confirm("确认删除该记录吗？")&&(this.notes=this.notes.filter((t=>t.id!==e.id)))},submitForm(){if("add"===this.dialogType){const e=this.pets.find((e=>e.id===this.noteForm.petId));this.notes.push({id:this.notes.length+1,petName:e.name,petAvatar:e.avatar,...this.noteForm})}else{const e=this.notes.findIndex((e=>e.id===this.noteForm.id)),t=this.pets.find((e=>e.id===this.noteForm.petId));this.notes[e]={...this.noteForm,petName:t.name,petAvatar:t.avatar}}this.dialogVisible=!1},triggerFileInput(){this.$refs.fileInput.click()},handleImageUpload(e){const t=e.target.files;for(let l=0;l<t.length;l++){const e=t[l],s=new FileReader;s.onload=e=>{this.noteForm.images.push(e.target.result)},s.readAsDataURL(e)}e.target.value=""},removeImage(e){this.noteForm.images.splice(e,1)},previewImage(e){this.previewImageUrl=e}}},oe=l(1241);const ce=(0,oe.A)(ne,[["render",ie],["__scopeId","data-v-434ed2d8"]]);var de=ce},7636:function(e,t,l){e.exports=l.p+"img/normal_cat.c122651f.png"}}]);
//# sourceMappingURL=324.7421fc06.js.map