"use strict";(self["webpackChunkmeow_life_app"]=self["webpackChunkmeow_life_app"]||[]).push([[577],{5623:function(e,t,l){e.exports=l.p+"img/cute_cat.d23f7283.png"},7636:function(e,t,l){e.exports=l.p+"img/normal_cat.c122651f.png"},8577:function(e,t,l){l.r(t),l.d(t,{default:function(){return ve}});var a=l(6768),s=l(4232),i=l(5130);const o={class:"page-container"},n={class:"page-header"},c={class:"add-buttons"},d={class:"pets-filter"},r={class:"pets-list"},p=["onClick"],u=["src","alt"],k={class:"pet-name"},m={class:"type-filter"},g=["onClick"],v={class:"type-icon"},h={class:"type-label"},y={class:"record-list"},L={class:"record-date"},f={class:"record-content"},b={class:"record-header"},C={class:"pet-info"},w=["src","alt"],T={class:"pet-name"},x={class:"type-icon"},I={class:"type-label"},D={class:"record-body"},_={key:0,class:"weight-info"},E={class:"weight-value"},X={key:1,class:"diet-info"},R={class:"diet-type"},P={class:"diet-amount"},F={class:"diet-time"},A={key:2,class:"excretion-info"},J={class:"excretion-type"},U={class:"excretion-status"},V={class:"excretion-time"},N={key:3,class:"record-notes"},W={class:"record-actions"},K=["onClick"],S=["onClick"],Q={class:"dialog-content"},O={class:"dialog-header"},$={class:"dialog-body"},z={class:"form-group"},j={class:"pets-select"},q=["onClick"],B=["src","alt"],G={class:"pet-name"},H={class:"form-group"},M=["max"],Y={class:"form-group"},Z={class:"type-select"},ee=["onClick"],te={class:"type-icon"},le={class:"type-label"},ae={key:0,class:"form-group"},se={class:"form-group"},ie={class:"form-group"},oe={class:"form-group"},ne={class:"form-group"},ce={class:"form-group"},de={class:"form-group"},re={class:"form-group"},pe={class:"dialog-footer"};function ue(e,t,l,ue,ke,me){return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",n,[t[19]||(t[19]=(0,a.Lk)("div",{class:"header-content"},[(0,a.Lk)("h1",null,"每日记录"),(0,a.Lk)("p",null,"记录喵星人的每一天")],-1)),(0,a.Lk)("div",c,[(0,a.Lk)("button",{class:"add-btn weight",onClick:t[0]||(t[0]=e=>me.showAddDialog("weight"))},t[16]||(t[16]=[(0,a.Lk)("i",{class:"el-icon-plus"},null,-1),(0,a.eW)(" 记录体重 ")])),(0,a.Lk)("button",{class:"add-btn diet",onClick:t[1]||(t[1]=e=>me.showAddDialog("diet"))},t[17]||(t[17]=[(0,a.Lk)("i",{class:"el-icon-plus"},null,-1),(0,a.eW)(" 记录饮食 ")])),(0,a.Lk)("button",{class:"add-btn excretion",onClick:t[2]||(t[2]=e=>me.showAddDialog("excretion"))},t[18]||(t[18]=[(0,a.Lk)("i",{class:"el-icon-plus"},null,-1),(0,a.eW)(" 记录排泄 ")]))])]),(0,a.Lk)("div",d,[(0,a.Lk)("div",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ke.pets,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,s.C4)(["pet-item",{active:ke.selectedPetId===e.id}]),onClick:t=>me.selectPet(e.id)},[(0,a.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,u),(0,a.Lk)("span",k,(0,s.v_)(e.name),1)],10,p)))),128))])]),(0,a.Lk)("div",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ke.recordTypes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,s.C4)(["type-tag",{active:ke.selectedTypes.includes(e.value)}]),onClick:t=>me.toggleType(e.value)},[(0,a.Lk)("span",v,(0,s.v_)(e.icon),1),(0,a.Lk)("span",h,(0,s.v_)(e.label),1)],10,g)))),128))]),(0,a.Lk)("div",y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(me.filteredRecords,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"record-card"},[(0,a.Lk)("div",L,(0,s.v_)(me.formatDate(e.date)),1),(0,a.Lk)("div",f,[(0,a.Lk)("div",b,[(0,a.Lk)("div",C,[(0,a.Lk)("img",{src:me.getPetAvatar(e.petId),alt:me.getPetName(e.petId),class:"pet-avatar"},null,8,w),(0,a.Lk)("span",T,(0,s.v_)(me.getPetName(e.petId)),1)]),(0,a.Lk)("div",{class:(0,s.C4)(["record-type",e.type])},[(0,a.Lk)("span",x,(0,s.v_)(me.getTypeIcon(e.type)),1),(0,a.Lk)("span",I,(0,s.v_)(me.getTypeLabel(e.type)),1)],2)]),(0,a.Lk)("div",D,["weight"===e.type?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("span",E,(0,s.v_)(e.weight)+"kg",1),(0,a.Lk)("span",{class:(0,s.C4)(["weight-change",me.getWeightChangeClass(e)])},(0,s.v_)(me.getWeightChange(e)),3)])):"diet"===e.type?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",R,(0,s.v_)(e.dietType),1),(0,a.Lk)("div",P,(0,s.v_)(e.amount),1),(0,a.Lk)("div",F,(0,s.v_)(e.time),1)])):"excretion"===e.type?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("div",J,(0,s.v_)(e.excretionType),1),(0,a.Lk)("div",U,(0,s.v_)(e.status),1),(0,a.Lk)("div",V,(0,s.v_)(e.time),1)])):(0,a.Q3)("",!0),e.notes?((0,a.uX)(),(0,a.CE)("div",N,[t[20]||(t[20]=(0,a.Lk)("i",{class:"el-icon-notebook-2"},null,-1)),(0,a.Lk)("span",null,(0,s.v_)(e.notes),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",W,[(0,a.Lk)("button",{class:"action-btn edit",onClick:t=>me.editRecord(e)},t[21]||(t[21]=[(0,a.Lk)("span",{class:"icon"},"✏️",-1),(0,a.Lk)("span",null,"编辑",-1)]),8,K),(0,a.Lk)("button",{class:"action-btn delete",onClick:t=>me.deleteRecord(e)},t[22]||(t[22]=[(0,a.Lk)("span",{class:"icon"},"🗑️",-1),(0,a.Lk)("span",null,"删除",-1)]),8,S)])])])))),128))]),ke.showDialog?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"dialog-overlay",onClick:t[15]||(t[15]=(0,i.D$)(((...e)=>me.closeDialog&&me.closeDialog(...e)),["self"]))},[(0,a.Lk)("div",Q,[(0,a.Lk)("div",O,[(0,a.Lk)("h2",null,(0,s.v_)(me.dialogTitle),1),(0,a.Lk)("button",{class:"close-btn",onClick:t[3]||(t[3]=(...e)=>me.closeDialog&&me.closeDialog(...e))},"×")]),(0,a.Lk)("div",$,[(0,a.Lk)("div",z,[t[23]||(t[23]=(0,a.Lk)("label",null,"选择宠物",-1)),(0,a.Lk)("div",j,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ke.pets,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,s.C4)(["pet-option",{active:ke.form.petId===e.id}]),onClick:t=>ke.form.petId=e.id},[(0,a.Lk)("img",{src:e.avatar,alt:e.name,class:"pet-avatar"},null,8,B),(0,a.Lk)("span",G,(0,s.v_)(e.name),1)],10,q)))),128))])]),(0,a.Lk)("div",H,[t[24]||(t[24]=(0,a.Lk)("label",null,"日期",-1)),(0,a.bo)((0,a.Lk)("input",{type:"date",class:"form-input","onUpdate:modelValue":t[4]||(t[4]=e=>ke.form.date=e),max:(new Date).toISOString().split("T")[0]},null,8,M),[[i.Jo,ke.form.date]])]),(0,a.Lk)("div",Y,[t[25]||(t[25]=(0,a.Lk)("label",null,"记录类型",-1)),(0,a.Lk)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ke.recordTypes,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.value,class:(0,s.C4)(["type-option",{active:ke.form.type===e.value}]),onClick:t=>ke.form.type=e.value},[(0,a.Lk)("span",te,(0,s.v_)(e.icon),1),(0,a.Lk)("span",le,(0,s.v_)(e.label),1)],10,ee)))),128))])]),"weight"===ke.form.type?((0,a.uX)(),(0,a.CE)("div",ae,[t[26]||(t[26]=(0,a.Lk)("label",null,"体重 (kg)",-1)),(0,a.bo)((0,a.Lk)("input",{type:"number",class:"form-input","onUpdate:modelValue":t[5]||(t[5]=e=>ke.form.weight=e),step:"0.1",min:"0"},null,512),[[i.Jo,ke.form.weight]])])):"diet"===ke.form.type?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",se,[t[27]||(t[27]=(0,a.Lk)("label",null,"饮食类型",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[6]||(t[6]=e=>ke.form.dietType=e),placeholder:"例如：猫粮、罐头、零食等"},null,512),[[i.Jo,ke.form.dietType]])]),(0,a.Lk)("div",ie,[t[28]||(t[28]=(0,a.Lk)("label",null,"食用量",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[7]||(t[7]=e=>ke.form.amount=e),placeholder:"例如：50g、一个罐头等"},null,512),[[i.Jo,ke.form.amount]])]),(0,a.Lk)("div",oe,[t[29]||(t[29]=(0,a.Lk)("label",null,"时间",-1)),(0,a.bo)((0,a.Lk)("input",{type:"time",class:"form-input","onUpdate:modelValue":t[8]||(t[8]=e=>ke.form.time=e)},null,512),[[i.Jo,ke.form.time]])])],64)):"excretion"===ke.form.type?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",ne,[t[30]||(t[30]=(0,a.Lk)("label",null,"排泄类型",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[9]||(t[9]=e=>ke.form.excretionType=e),placeholder:"例如：小便、大便等"},null,512),[[i.Jo,ke.form.excretionType]])]),(0,a.Lk)("div",ce,[t[31]||(t[31]=(0,a.Lk)("label",null,"状态",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-input","onUpdate:modelValue":t[10]||(t[10]=e=>ke.form.status=e),placeholder:"例如：正常、软便、便秘等"},null,512),[[i.Jo,ke.form.status]])]),(0,a.Lk)("div",de,[t[32]||(t[32]=(0,a.Lk)("label",null,"时间",-1)),(0,a.bo)((0,a.Lk)("input",{type:"time",class:"form-input","onUpdate:modelValue":t[11]||(t[11]=e=>ke.form.time=e)},null,512),[[i.Jo,ke.form.time]])])],64)):(0,a.Q3)("",!0),(0,a.Lk)("div",re,[t[33]||(t[33]=(0,a.Lk)("label",null,"备注",-1)),(0,a.bo)((0,a.Lk)("textarea",{class:"form-textarea","onUpdate:modelValue":t[12]||(t[12]=e=>ke.form.notes=e),placeholder:"添加一些备注信息..."},null,512),[[i.Jo,ke.form.notes]])])]),(0,a.Lk)("div",pe,[(0,a.Lk)("button",{class:"cancel-btn",onClick:t[13]||(t[13]=(...e)=>me.closeDialog&&me.closeDialog(...e))},"取消"),(0,a.Lk)("button",{class:"confirm-btn",onClick:t[14]||(t[14]=(...e)=>me.saveRecord&&me.saveRecord(...e))},"保存")])])])):(0,a.Q3)("",!0)])}l(4114),l(8111),l(2489),l(116);var ke={name:"Daily",data(){return{pets:[{id:1,name:"小灰灰",avatar:l(7636)},{id:2,name:"花花",avatar:l(5623)}],recordTypes:[{value:"weight",label:"体重记录",icon:"⚖️"},{value:"diet",label:"饮食记录",icon:"🍽️"},{value:"excretion",label:"排泄记录",icon:"🚽"}],dietTypes:[{value:"catFood",label:"猫粮",icon:"🥫"},{value:"wetFood",label:"湿粮",icon:"🍖"},{value:"treats",label:"零食",icon:"🍪"},{value:"water",label:"饮水",icon:"💧"}],excretionTypes:[{value:"urine",label:"小便",icon:"💧"},{value:"feces",label:"大便",icon:"💩"}],excretionStatus:[{value:"normal",label:"正常",icon:"✅"},{value:"soft",label:"软便",icon:"⚠️"},{value:"diarrhea",label:"腹泻",icon:"❌"}],selectedPetId:null,selectedTypes:[],dailyRecords:[{id:1,date:"2024-03-20",petId:1,petName:"小灰灰",petAvatar:l(7636),type:"weight",weight:4.5,change:.2,notes:"体重有所增加，继续保持"},{id:2,date:"2024-03-20",petId:1,petName:"小灰灰",petAvatar:l(7636),type:"diet",dietType:"catFood",amount:"100g",time:"08:00",notes:"早餐食欲良好"}],showDialog:!1,isEditing:!1,form:{petId:null,date:"",type:"",weight:"",change:"",dietType:"",amount:"",time:"",excretionType:"",status:"",notes:""}}},computed:{dialogTitle(){return this.isEditing?"编辑记录":"添加记录"},filteredRecords(){let e=[...this.dailyRecords];return this.selectedPetId&&(e=e.filter((e=>e.petId===this.selectedPetId))),this.selectedTypes.length>0&&(e=e.filter((e=>this.selectedTypes.includes(e.type)))),e.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}},methods:{selectPet(e){this.selectedPetId=this.selectedPetId===e?null:e},toggleType(e){const t=this.selectedTypes.indexOf(e);-1===t?this.selectedTypes.push(e):this.selectedTypes.splice(t,1)},getPetAvatar(e){const t=this.pets.find((t=>t.id===e));return t?t.avatar:""},getPetName(e){const t=this.pets.find((t=>t.id===e));return t?t.name:""},getTypeIcon(e){const t=this.recordTypes.find((t=>t.value===e));return t?t.icon:"📝"},getTypeLabel(e){const t=this.recordTypes.find((t=>t.value===e));return t?t.label:"其他"},formatDate(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},getWeightChange(e){const t=this.dailyRecords.filter((t=>t.petId===e.petId&&"weight"===t.type)).sort(((e,t)=>new Date(t.date)-new Date(e.date)))[1];if(!t)return"首次记录";const l=e.weight-t.weight;return`${l>0?"+":""}${l.toFixed(1)}kg`},getWeightChangeClass(e){const t=parseFloat(this.getWeightChange(e));return isNaN(t)?"":t>0?"increase":"decrease"},showAddDialog(e){this.isEditing=!1,this.form={petId:null,date:(new Date).toISOString().split("T")[0],type:e,weight:"",change:"",dietType:"",amount:"",time:"",excretionType:"",status:"",notes:""},this.showDialog=!0},editRecord(e){this.isEditing=!0,this.form={...e},this.showDialog=!0},closeDialog(){this.showDialog=!1,this.form={petId:null,date:"",type:"",weight:"",change:"",dietType:"",amount:"",time:"",excretionType:"",status:"",notes:""}},saveRecord(){if(this.isEditing){const e=this.dailyRecords.findIndex((e=>e.id===this.form.id));-1!==e&&(this.dailyRecords[e]={...this.form})}else this.dailyRecords.push({...this.form,id:this.dailyRecords.length+1});this.closeDialog()},deleteRecord(e){confirm("确定要删除这条记录吗？")&&(this.dailyRecords=this.dailyRecords.filter((t=>t.id!==e)))}}},me=l(1241);const ge=(0,me.A)(ke,[["render",ue],["__scopeId","data-v-3dc5eb50"]]);var ve=ge}}]);
//# sourceMappingURL=577.d1cc16d6.js.map